(()=>{"use strict";function e(e){for(let t=0;t<e.length;t++){const n=document.createElement("div");n.setAttribute("id","todocontainer");const o=document.createElement("div");o.textContent=e[t].title;const i=document.createElement("div");i.textContent=e[t].descr;const d=document.createElement("div");d.textContent=e[t].date;const r=document.createElement("div");r.textContent=e[t].priority;const c=document.createElement("img");c.setAttribute("src","./img/delete.svg"),c.setAttribute("id","deletetodo"),n.appendChild(o),n.appendChild(i),n.appendChild(d),n.appendChild(r),n.appendChild(c),document.querySelector("#bodycontainer").appendChild(n)}}function t(e){for(let t=0;t<e.length;t++){const n=document.createElement("div");n.setAttribute("id","listcontainer");const o=document.createElement("div");o.setAttribute("id","listtitle"),o.textContent=e[t];const i=document.createElement("img");i.setAttribute("src","./img/delete.svg"),i.setAttribute("id","deletelist"),n.appendChild(o),n.appendChild(i),document.querySelector("#sidebarcontainer").appendChild(n)}}const n=(e,t,n,o)=>({title:e,descr:t,date:n,priority:o});function o(){document.querySelectorAll("#deletetodo").forEach((e=>{e.addEventListener("click",i)}))}function i(t){let n=function(e){let t=e.target.parentElement.parentElement.children;for(let n=0;n<t.length;n++)if(t[n]===e.target.parentElement)return n}(t);b.splice(n,1),C(),e(b),o(),g()}const d=[];function r(e){"Enter"===e.key&&(e.preventDefault(),c(),removeEventListener("keypress",r))}function c(){const t=document.querySelector("#newtodoname").value,i=document.querySelector("#newtododescr").value,d=document.querySelector("#newtododate").value,c=document.querySelector("#newtodopriority").value;if(""!==t&&""!==i&&""!==d&&""!==c){let l=n(t,i,d,c);b.push(l),C(),e(b),o(),s(),removeEventListener("keypress",r),g()}}function l(){s(),removeEventListener("keypress",r)}function s(){document.querySelector("#newtodo").reset(),document.querySelector("#todoformcontainer").close()}function u(e){"Enter"===e.key&&(e.preventDefault(),a(),removeEventListener("keypress",u))}function a(){const e=document.querySelector("#newlistname").value;""!==e&&(h[e]=[],function(){let e=document.querySelector("#sidebarcontainer");for(;e.firstChild;)e.removeChild(e.lastChild)}(),y(e),t(Object.keys(h)),E(),f(),p(),removeEventListener("keypress",u),g())}function m(){p(),removeEventListener("keypress",u)}function p(){document.querySelector("#newlist").reset(),document.querySelector("#listformcontainer").close()}(()=>{const e=n("Wash Dishes","Clean dishes in the sink","09-14-2023","Low");d.push(e);const t=n("Brush Teeth","","09-13-2023","Medium");d.push(t);const o=n("Make Dinner","Cook something to eat","09-13-2023","Low");d.push(o);const i=n("Finish Project","Finish To Do List","09-15-2023","High");d.push(i)})();let h={};h.Default=d;let b=d;function E(){document.querySelectorAll("#listtitle").forEach((e=>{e.addEventListener("click",v)}))}function v(e){y(e.target.textContent)}function y(t){b=h[t],C(),e(b),o()}function C(){let e=document.querySelector("#bodycontainer");for(;e.firstChild;)e.removeChild(e.lastChild)}function f(){document.querySelectorAll("#deletelist").forEach((e=>{e.addEventListener("click",A)}))}function A(e){let t=e.target.previousSibling.textContent;h[t]===b&&(b=[],C()),delete h[t];let n=e.target.parentElement.parentElement,o=e.target.parentElement;n.removeChild(o),g()}function g(){localStorage.setItem("localLists",JSON.stringify(h))}!function(n){!function(){let e=JSON.parse(localStorage.getItem("localLists"));null!==e&&(console.log(e),h=e,b=h[Object.keys(h)[0]])}();let o=Object.keys(h);!function(){const e=document.createElement("div");e.setAttribute("id","header");const t=document.createElement("img");t.setAttribute("src","./img/logo.svg"),t.setAttribute("id","logo");const n=document.createElement("div");n.setAttribute("id","headertext"),n.textContent="To Do List",e.appendChild(t),e.appendChild(n),document.querySelector("body").appendChild(e)}(),function(){const e=document.createElement("div");e.setAttribute("id","sidebar");const t=document.createElement("div");t.setAttribute("id","sidebarheader");const n=document.createElement("div");n.setAttribute("id","sidebartitle"),n.textContent="Lists";const o=document.createElement("img");o.setAttribute("src","./img/create.svg"),o.setAttribute("id","createlist"),t.appendChild(n),t.appendChild(o);const i=document.createElement("div");i.setAttribute("id","sidebarcontainer"),e.appendChild(t),e.appendChild(i),document.querySelector("body").appendChild(e)}(),function(){const e=document.createElement("div");e.setAttribute("id","body");const t=document.createElement("div");t.setAttribute("id","bodyheader");const n=document.createElement("div");n.textContent="Title";const o=document.createElement("div");o.textContent="Description";const i=document.createElement("div");i.textContent="Date";const d=document.createElement("div");d.textContent="Priority";const r=document.createElement("img");r.setAttribute("src","./img/create.svg"),r.setAttribute("id","createtodo"),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(d),t.appendChild(r);const c=document.createElement("div");c.setAttribute("id","bodycontainer"),e.appendChild(t),e.appendChild(c),document.querySelector("body").appendChild(e)}(),function(){const e=document.createElement("dialog");e.setAttribute("id","listformcontainer");const t=document.createElement("form");t.setAttribute("id","newlist");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("placeholder","List Name"),n.setAttribute("id","newlistname");const o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("id","newlistbutton"),o.textContent="Add";const i=document.createElement("img");i.setAttribute("src","./img/delete.svg"),i.setAttribute("id","newlistdelete"),t.appendChild(n),t.appendChild(o),t.appendChild(i),e.appendChild(t),document.querySelector("body").appendChild(e)}(),function(){const e=document.createElement("dialog");e.setAttribute("id","todoformcontainer");const t=document.createElement("form");t.setAttribute("id","newtodo");const n=document.createElement("textarea");n.setAttribute("id","newtodoname"),n.setAttribute("placeholder","Title");const o=document.createElement("textarea");o.setAttribute("id","newtododescr"),o.setAttribute("placeholder","Description");const i=document.createElement("textarea");i.setAttribute("id","newtododate"),i.setAttribute("placeholder","Date (DD-MM-YYYY)");const d=document.createElement("textarea");d.setAttribute("id","newtodopriority"),d.setAttribute("placeholder","Priority");const r=document.createElement("button");r.setAttribute("id","newtodobutton"),r.setAttribute("type","button"),r.textContent="Add";const c=document.createElement("img");c.setAttribute("src","./img/delete.svg"),c.setAttribute("id","newtododelete"),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(d),t.appendChild(r),t.appendChild(c),e.appendChild(t),document.querySelector("body").appendChild(e)}(),void 0!==b&&e(b),t(o)}(),o(),document.querySelector("#createtodo").addEventListener("click",(function(){document.querySelector("#todoformcontainer").show(),document.querySelector("#newtodobutton").addEventListener("click",c),document.querySelector("#newtododelete").addEventListener("click",l),addEventListener("keypress",r)})),E(),f(),document.querySelector("#createlist").addEventListener("click",(function(){document.querySelector("#listformcontainer").show(),document.querySelector("#newlistbutton").addEventListener("click",a),document.querySelector("#newlistdelete").addEventListener("click",m),addEventListener("keypress",u)}))})();